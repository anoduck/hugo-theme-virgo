{{ define "main" }}
{{ $IsNav := eq .Title "Navigations"}}
{{ $IsSearch := eq .Title "Search"}}
{{ $IsArchive := eq .Title "Archive"}}
<div class="container-main {{ if $IsNav}} container-nav {{ else if $IsSearch }} container-search {{ else }} container-page {{ end }}">

    <div class="desc">
        {{if and (not $IsSearch) (not $IsArchive) }}
        <span>{{ .Date.Format "2006-01-02" }}</span>
        <span>字数：{{ .WordCount }}</span>
        <span>阅读：{{ .ReadingTime }} 分钟</span>

        {{- partial "partials/_ctgtag.html" . -}}
     
        {{ end }}
    </div>
    
    <div class="toc">
        {{ if and .IsPage (not $IsNav) (not $IsSearch) (not $IsArchive)}}
        <div class="page-operation">
            <div><a href="#"><img src="/imgs/icons/arrow-up-circle.svg" alt=""></a></div>
            <div>{{with .NextInSection}}<a href="{{.Permalink}}"><img src="/imgs/icons/arrow-left-circle.svg" alt=""></a>{{end}}</div>
            <div>{{with .PrevInSection}}<a href="{{.Permalink}}"><img src="/imgs/icons/arrow-right-circle.svg" alt=""></a>{{end}}</div>
        </div>
        {{end}}
        {{ $.TableOfContents }}
    </div>

    <div class='content {{with not $IsNav}} content {{ else }} content-nav {{end}}{{with .Params.card}} content-card {{ end }}'>
        {{ .Content }}
    </div>

    {{ if $IsSearch }}
        {{- partial "partials/_search.html" . -}}
    {{ end }}

    {{ if $IsArchive}}
        {{- partial "partials/_archive.html" . -}}
    {{ end }}


    {{ if and .IsPage (not $IsNav) (not $IsSearch) (not $IsArchive)}}
        {{- partial "partials/_prevnext.html" . -}}
    {{ end }}
</div>
{{ end }}
